<script>
$(document).ready(function() {
    var i = 1
    $('.n_ph').append('<tr id="n_ph_header" style="display:none"><th>pH</th><th>Half-life (days)</th></tr>');

    $('#n_ph').change(function () {
    	var total = $(this).val()
    	$('tr[id*="n_ph_header"]').show()
    	while (i <= total) {
                $('.n_ph').append('<tr class="tab_n_ph"><td><input type="text" size="5" name="ph' + i + '" id="id_ph' + i + '"/></td><td><input type="text" size="5" name="hl' + i + '" id="id_hl' + i + '"/></td></tr>');
    		i = i + 1;
    	}
    	while (i-1 > total) {
    		$(".n_ph tr:last").remove();
    		i=i-1
    	}
    	$('</table>').appendTo('.n_ph');
    })
});
</script>
